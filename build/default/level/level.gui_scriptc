
Óœ
ÚJlocal TouchFb = require("modules.animation")

local box_nodes = {"option1", "option2", "option3", "option4", "option5", "option6"}
question = nil -- this is a global variable
ad_for_hints_played = false
local friction_speed
local frictions_used = false
local chances_missed = false
-- options are sent to the colors script
local options = {}
local schl
local schal_score
local hchl
local hchal_score
local misses = 0
local hits = 0
local option_nodes = {} -- this table is need to set the correct colors

local function set_question()
	local mid_node = gui.get_node("question1")
	if question == "What Word ?" or question == nil then
		question = "What Color ?"
	else
		question = "What Word ?"
	end
	gui.set_text(mid_node, question)
end

local node_table = {}-- each gui script has its own node_table

local function get_nodes(string_table)-- clears the node table if its not empty
	for i in ipairs(string_table) do
		table.insert(node_table, gui.get_node(string_table[i]))
	end
end

local function start_lanim()
	msg.post(".", "start_anim")
end

local function entry_animation(table)
	local q = gui.get_node("question")
	gui.animate(q, "position.x", 420, gui.EASING_INBOUNCE, 0.8, 0, nil, gui.PLAYBACK_ONCE_PINGPONG)
	for i in ipairs(table) do
		gui.animate(table[i], "position.y", 470, gui.EASING_INBOUNCE, 1.5, 0, start_lanim(), gui.PLAYBACK_ONCE_PINGPONG)
	end
end

local function animate_level(table)-- this animation function is used by the nodes that have entry animations
	for i, v in ipairs(table) do
		gui.animate(table[i], "rotation.z", 1, gui.EASING_OUTSINE, 5, 0, nil, gui.PLAYBACK_LOOP_PINGPONG)
	end
end

--score was declared in the main script
function init(self)
	--msg.post("@system:", "toggle_profile")
	msg.post("@render:", "clear_color", { color = vmath.vector4(1, 1, 1, 0) } )
	local node_strings1 = {"s_chal", "h_chal"}
	get_nodes(node_strings1)
	entry_animation(node_table)
	friction_speed = speed
	set_question()
	msg.post(".", "acquire_input_focus")
	local c_id = gui.get_node("chances")
	gui.set_text(c_id, "Chances left\n"..tostring(chances))
	local f_id = gui.get_node("frictions")
	gui.set_text(f_id, tostring(frictions))
	p_chances = chances
	msg.post("main:/main#challenges", "challenges", {id = level_gui})
	msg.post("main:/main#challenges", "send_pointers")
	options = color_strings
	local counter = 1
	repeat
		local node = gui.get_node("option"..tostring(counter))
		local text = gui.get_node("color"..tostring(counter))
		gui.set_color(node, colors[counter])
		gui.set_text(text, color_strings[counter])
		table.insert(option_nodes, node)
		counter = counter + 1
	until(counter > NumOfColorsPicked)
	-- the block of code below adjusts the option boxes and texts for aesthetic purposes
	for k, v in ipairs(box_nodes) do
		local node = gui.get_node(v)
		local text = gui.get_node("color"..tostring(k))
		local pos = gui.get_position(node)
		if NumOfColorsPicked > 3 then
			local node1 = gui.get_node("s_chal")
			local node2 = gui.get_node("h_chal")
			local node3 = gui.get_node("question1")
			local pos1 = gui.get_position(node1)
			local pos2 = gui.get_position(node2)
			local pos3 = gui.get_position(node3)
			pos1.y = 450
			pos2.y = 450
			pos3.y = 750
			gui.set_position(node1, pos1)
			gui.set_position(node2, pos2)
			gui.set_position(node3, pos3)			
		end
		if NumOfColorsPicked == 3 then
			pos.y = 200
			gui.set_position(node, pos)
			gui.set_position(text, pos)
		elseif NumOfColorsPicked == 4 and k == 4 then
			pos.x = 320
			gui.set_position(node, pos)
			gui.set_position(text, pos)
		elseif NumOfColorsPicked == 5 then
			if k == 4 then
				pos.x = 220
			elseif k == 5 then
				pos.x = 440
			end
			gui.set_position(node, pos)
			gui.set_position(text, pos)
		end
		if k > NumOfColorsPicked then
			gui.set_enabled(node, false)
			gui.set_enabled(text, false)
		end
	end
end

function final(self)
	msg.post(".", "release_input_focus")
end

--these are pointers to the challenges
local chPtr1
local chPtr2

local current_question = 1

--touch feedback
local button_tapped = nil
local option_ptr

local function handle_input()
	if button_tapped == 'option'..tostring(option_ptr) then
		msg.post(spawn, "check_this", {ans = options[option_ptr]})
--[[	elseif button_tapped == 'option2' then
		msg.post(spawn, "check_this", {ans = options[2]})
	elseif button_tapped == 'option3' then
		msg.post(spawn, "check_this", {ans = options[3]})]]
	elseif button_tapped == 'pause' then
		msg.post("main:/main#main", "pause")
	elseif button_tapped == 'frictions' and frictions > 0 then
		speed = friction_speed
		frictions = frictions - 1
		msg.post("main:/main#data_handler", "save_data")
		msg.post(level_gui, "adjust_frictions")
		msg.post(ANALYZER, 'friction_used')
	end
end

local function touch_feedback(node)
	local pos = gui.get_position(node)
	gui.animate(node, "position.x", pos.x + 20, gui.EASING_INOUTBOUNCE, BUTTON_ANIMATION_DURATION, 0, handle_input, gui.PLAYBACK_ONCE_PINGPONG)
end

--hint the player
local hint_player = function(str)
	local option = gui.get_node(str)
	local pos = gui.get_position(option)
	gui.animate(option, "position.y", pos.y + 10, gui.EASING_INBOUNCE, 0.8, 0, nil, gui.PLAYBACK_ONCE_PINGPONG)
end

-- message ids
local add_score = hash("add_score")
local start_anim = hash("start_anim")
local show_hint = hash("show_hint")
local change_qst = hash("change_question")
local what_is_the_question = hash("what_is_the_question")
local msg_pointers = hash("pointers")
local adj_chances = hash("adjust_chances")
local adj_frictions = hash("adjust_frictions")
local msg_challenges = hash("challenges")

function on_message(self, message_id, message, sender)
	local function check_gold_challenge()
		if chPtr1 == 2 or chPtr1 == 4 or chPtr1 == 6 or chPtr1 == 8 then
			if chances ~= const_chances then
				local s_chal = gui.get_node("s_chal")
				gui.set_text(s_chal, " ")
			end
		elseif chPtr1 == 3 or chPtr1 == 4 or chPtr1 == 7 or chPtr1 == 8 then
			if frictions ~= const_frictions then
				local s_chal = gui.get_node("s_chal")
				gui.set_text(s_chal, " ")
			end
		end
	end
	local function check_diamond_challenge()
		if chPtr2 == 2 or chPtr2 == 4 or chPtr2 == 6 or chPtr2 == 8 then
			if chances ~= const_chances then
				local h_chal = gui.get_node("h_chal")
				gui.set_text(h_chal, " ")
			end
		elseif chPtr2 == 3 or chPtr2 == 4 or chPtr2 == 7 or chPtr2 == 8 then
			if frictions ~= const_frictions then
				local h_chal = gui.get_node("h_chal")
				gui.set_text(h_chal, " ")
			end
		end
	end
	if message_id == add_score then
		local score_id = gui.get_node("score") -- gets the id of the score node
		score = score + 1  -- increments the score
		if score > highscore then
			gui.animate(score_id , "position.x", 360, gui.EASING_INBOUNCE, 0.8, 0, nil, gui.PLAYBACK_ONCE_PINGPONG)
			highscore = score
			msg.post("main:/main#data_handler", "save_data")
		end
		gui.set_text(score_id, score)-- this displays the incremented score
		hits = hits + 1
	elseif message_id == start_anim then
		local ids = {"score", "question", "pause", "_frictions", "frictions", "option3"
		, "option1", "option2", "chances", "s_chal", 
		"h_chal", "frictions1", "pause_text", "question1"}
		node_table = {}
		get_nodes(ids)
		animate_level(node_table)
	elseif message_id == show_hint then
		hint_player('option'..tostring(message.hint))
	elseif message_id == change_qst then
		set_question()
	elseif message_id == what_is_the_question then
		msg.post(sender, "the_question_is", {q = questionPtr})
	elseif message_id == msg_pointers then
		chPtr1 = message.ptr1 -- gold challenge
		chPtr2 = message.ptr2 --diamond challenge
	elseif message_id == adj_chances then
		chances_missed = true
		msg.post("main:/main#challenges", "miss")
		local c_id = gui.get_node("chances")
		gui.set_text(c_id, "Chances left\n"..tostring(chances))
		gui.animate(c_id , "position.x", 360, gui.EASING_INBOUNCE, 0.8, 0, nil, gui.PLAYBACK_ONCE_PINGPONG)
		misses = misses + 1
	elseif message_id == adj_frictions then
		frictions_used = true
		msg.post("main:/main#challenges", "friction")
		local f_id = gui.get_node("frictions")
		gui.set_text(f_id, frictions)
	elseif message_id == msg_challenges then
		local s_chal = gui.get_node("s_chal")
		local h_chal = gui.get_node("h_chal")
		gui.set_text(s_chal, "GOLD CHALLENGE\n"..tostring(message.s))
		gui.set_text(h_chal, "DIAMOND CHALLENGE\n"..tostring(message.h))
	end
end

local touch = hash("touch")
local back = hash("back")

function on_input(self, action_id, action)
	if action_id == touch and action.released then
		local pause = gui.get_node("pause")
		local _frictions = gui.get_node("_frictions")
		--[[if gui.pick_node(option1, action.x, action.y) then
			button_tapped = 'option1'
			TouchFb.touch_feedback(option1, handle_input)
		elseif gui.pick_node(option2, action.x, action.y) then
			button_tapped = 'option2'
			TouchFb.touch_feedback(option2, handle_input)
		elseif gui.pick_node(option3, action.x, action.y) then
			button_tapped = 'option3'
			TouchFb.touch_feedback(option3, handle_input)]]
		if gui.pick_node(pause, action.x, action.y) then
			button_tapped = 'pause'
			TouchFb.touch_feedback(pause, handle_input)
		elseif gui.pick_node(_frictions, action.x, action.y) then
			button_tapped = 'frictions'
			TouchFb.touch_feedback(_frictions, handle_input)
		end
		for k, v in ipairs(box_nodes) do
			local node = gui.get_node(v)
			if gui.pick_node(node, action.x, action.y) then
				button_tapped = v
				option_ptr = k
				TouchFb.touch_feedback(node, handle_input)
			end
		end
	elseif action_id == back then
		button_tapped = 'pause'
		touch_feedback(pause)
	end
end/level/level.gui_script≠BLJ =/level/level.gui_script¡    !6   9  ' B 6  XÄ6   XÄ' 7 XÄ' 7 6  9  6 BK  set_textWhat Color ?What Word ?questionquestion1get_nodeguimid_node  † 	 76    BXÄ6 9-  6 98 B AERˆK  Äget_nodeguiinsert
tableipairsnode_table string_table    i  ?    %6   9  ' ' B K  start_anim.	postmsg ‚ 	&L)6  9' B6  9 ' )§6  9*  )  +	  6
  9

B	6   BXÄ6  98 ' )	÷6
  9

* )  -  B6  9B	ERK  ¿position.yipairsPLAYBACK_ONCE_PINGPONGEASING_INBOUNCEposition.xanimatequestionget_nodeguiµÊÃôô≥¶ˇÄÄ‡ˇstart_lanim table  'q "  i  Ã   .16    BXÄ6 98 ' )	 6
 9

) )  +  6 9B	ERÒK  PLAYBACK_LOOP_PINGPONGEASING_OUTSINErotation.zanimateguiipairstable    i v   ˚ *˚ˆ8C6  9' ' 5 6 9) ) ) )	  B=B5 -   B- - B6	 . - B6  9'
 ' B6 9' B6 9 ' 6 6 B&B6 9' B6 9 6 6 B A6 7 6  9' ' 5 6 =B6  9' ' B6 . ) U%Ä6 9' 6  B&B6 9' 6 	 B&B6 9 6	 8		B6 9 6	 8		B6 9- 	 B 6   X⁄6! - BXÜÄ6
 9

	 B
6 9' 6  B&B6 9"
 B6  )  X-Ä6 9'# B6 9'$ B6 9'% B6 9" B6 9" B6 9" B)¬=&)¬=&)Ó=&6 9'  B6 9'  B6 9'  B6  	 XÄ)» =&6 9'
  B6 9'  BX(Ä6  	 XÄ	 XÄ)@=(6 9'
  B6 9'  BXÄ6  	 XÄ	 XÄ)‹ =(XÄ	 XÄ)∏=(6 9'
  B6 9'  B6   X
Ä6 9)
 + B6 9) + BERxK  ¿¿ÄÄ¿Ä¿¿set_enabledxset_positionyquestion1h_chals_chalget_positionipairsNumOfColorsPickedinsert
tablecolorsset_coloroptioncolor_stringssend_pointersidlevel_gui  challengesmain:/main#challengesp_chancesfrictionstostringChances left
set_textchancesget_nodeguiacquire_input_focus.
speed  s_chalh_chal
color  vector4
vmathclear_color@render:	postmsg
				








    !!!!""""####$$$$%%%%&&''(()))))*****+++++---../////000000111112233333444444555667778899;;;;;<<<<<>>>?????@@@@@Cget_nodes entry_animation node_table friction_speed set_question options option_nodes box_nodes self  ¸node_strings1 Ïc_id Ÿf_id Ãcounter ≥node 	text â â âk Üv  Ünode Çtext zpos vnode1 )node2 %node3 !pos1 pos2 pos3  O   }6  9' ' BK  release_input_focus.	postmsgself   à  8iã-   '  6 - B&  X Ä6  9  6 ' 5 - - 8=B X $Ä-     X Ä6  9  '	 ' B X Ä-    
 X Ä6 
 )    X Ä-  7  6 
    7 
 6  9  ' ' B 6  9  6 ' B 6  9  6 ' B K  ÄÄÄÄfriction_usedANALYZERadjust_frictionslevel_guisave_datamain:/main#data_handler
speedfrictionsmain:/main#main
pauseans  check_this
spawn	postmsgtostringoption							

button_tapped option_ptr options friction_speed  Ú .ù6  9  B6  9  ' 9 6  96 )  -	  6
  9

B	K  ¿PLAYBACK_ONCE_PINGPONGBUTTON_ANIMATION_DURATIONEASING_INOUTBOUNCExposition.xanimateget_positiongui(handle_input node  pos  ı  -£6  9  B6  9 B6  9 ' 9 6  9* )	  +
  6  9B	K  PLAYBACK_ONCE_PINGPONGEASING_INBOUNCEyposition.yanimateget_positionget_nodeguiµÊÃôô≥¶ˇstr  option pos  Ä  	4Nµ-      X 	Ä-     X Ä-     X Ä-   	  X Ä6   6   X #Ä6  9  ' B 6 9  ' BX Ä-     X 	Ä-     X Ä-     X Ä-   	  X Ä6  6   X 	Ä6  9  ' B 6 9  ' BK    const_frictionsfrictions set_texts_chalget_nodeguiconst_chanceschances					chPtr1 s_chal s_chal  Ä  	4N¬-      X 	Ä-     X Ä-     X Ä-   	  X Ä6   6   X #Ä6  9  ' B 6 9  ' BX Ä-     X 	Ä-     X Ä-     X Ä-   	  X Ä6  6   X 	Ä6  9  ' B 6 9  ' BK   const_frictionsfrictions set_texth_chalget_nodeguiconst_chanceschances					chPtr2 h_chal h_chal  é%∑∞¥G3  3 -  X(Ä6 9' B6  7 6 6  XÄ6 9 '	 )
h6 9* )  +  6 9	B	6 7 6
 9' '	 B6 9 6	 B-  . XâÄ-  X
Ä5 4  . -  B- - BX|Ä-  XÄ-	 ' 6 9	B&BXqÄ-
  XÄ- BXkÄ-  X	Ä6
 9 ' 5	 6
 =
	BX_Ä-  XÄ9.  9. XWÄ-  X$Ä1 6
 9' ' B6 9' B6 9 '	 6
 6 B
&	
	B6 9 '	 )
h6 9* )  +  6 9	B	-  . X0Ä-  XÄ1 6
 9' ' B6 9' B6 9 6	 BXÄ-  XÄ6 9' B6 9'  B6 9	 '
! 6 9"B&

B6 9	 '
# 6 9$B&

BK  ÄÄ¿Ä¿Ä¿¿¿¿¿¿¿ ¿!¿Ä
Ä"¿Ä#¿hDIAMOND CHALLENGE
sGOLD CHALLENGE
h_chals_chalfrictionsfrictionChances left
chances	missmain:/main#challenges	ptr2	ptr1qquestionPtr  the_question_is	hinttostringoption  
scorequestion
pause_frictionsfrictionsoption3option1option2chancess_chalh_chalfrictions1pause_textquestion1set_textsave_datamain:/main#data_handler	postmsgPLAYBACK_ONCE_PINGPONGEASING_INBOUNCEposition.xanimatehighscore
scoreget_nodegui  µÊÃôô≥¶ˇ  !!!!!#####$$$$%%%&))***++++,,,--------...///000111111111222334445556777778888999999999:::::::::::::;;;;<<<=>>>>>????@@@@@@AAABBBBCCCCDDDDDDDDDEEEEEEEEEGchPtr1 chPtr2 add_score hits start_anim node_table get_nodes animate_level show_hint hint_player change_qst set_question what_is_the_question msg_pointers adj_chances chances_missed misses adj_frictions frictions_used msg_challenges self  ∏message_id  ∏message  ∏sender  ∏check_gold_challenge ∂check_diamond_challenge µscore_id #ids (c_id ;f_id 's_chal h_chal  é  MÈÄ -   XBÄ9   X?Ä6 9' B6 9' B6 9 99B  XÄ/ - 9 - BXÄ6 9 99B  XÄ/	 - 9 - B6
 - BXÄ6
 9

	 B
6 9
 99B  XÄ.	 . - 9
 - BERÎXÄ-  XÄ/ - 6 BK  $¿Ä ¿¿¿Ä%¿¿ipairsfrictionstouch_feedbackyxpick_node_frictions
pauseget_nodeguireleased touch button_tapped TouchFb handle_input box_nodes option_ptr back touch_feedback self  Naction_id  Naction  Npause :_frictions 6   k v  node  œ	 ' ! Gâ †6   ' B 5 +  7 + 7 +  + + 4  ,	 )
  )  4  3 4  3 3 3 3	 3
 7 3 7 , ) , 3 3 3 6 ' B6 ' B6 ' B6 ' B6 '  B6  '! B 6! '" B!6" '# B"6# '$ B#3$ 7$ 6$ '% B$6% '& B%3& 7&  2  ÄK  on_input 	back
touchon_message challengesadjust_frictionsadjust_chancespointerswhat_is_the_questionchange_questionshow_hintstart_animadd_score	hash   
final 	init      ad_for_hints_playedquestion  option1option2option3option4option5option6modules.animationrequire           
       # ' / 5 { 8  } Ç Ö à õ † ß ™ ™ ™ ´ ´ ´ ¨ ¨ ¨ ≠ ≠ ≠ Æ Æ Æ Ø Ø Ø ∞ ∞ ∞ ± ± ± ≤ ≤ ≤ ˚ ¥ ˝ ˝ ˝ ˛ ˛ ˛     TouchFb Dbox_nodes Cfriction_speed >frictions_used =chances_missed <options ;schl :schal_score  :hchl  :hchal_score  :misses 9hits 8option_nodes 7set_question 6node_table 5get_nodes 4start_lanim 3entry_animation 2animate_level 1chPtr1 ,chPtr2  ,current_question +button_tapped *option_ptr  *handle_input )touch_feedback (hint_player 'add_score $start_anim !show_hint change_qst what_is_the_question msg_pointers adj_chances adj_frictions msg_challenges touch back   "≠BLJ=/level/level.gui_script¡    !6   9  ' B 6  XÄ6   XÄ' 7 XÄ' 7 6  9  6 BK  set_textWhat Color ?What Word ?questionquestion1get_nodeguimid_node  †  76    BXÄ6 9-  6 98
 B AERˆK  Äget_nodeguiinsert
tableipairsnode_table string_table    i  ?    %6   9  ' ' B K  start_anim.	postmsg ‚ 	&L)6  9' B6  9 ' )§6  9*  )	  +
  6  9B	6   BXÄ6  98 '	 )
÷6  9* )  -  B6  9B	ERK  ¿position.yipairsPLAYBACK_ONCE_PINGPONGEASING_INBOUNCEposition.xanimatequestionget_nodeguiµÊÃôô≥¶ˇÄÄ‡ˇstart_lanim table  'q "  i  Ã   .16    BXÄ6 98 '	 )
 6 9) )  +  6 9B	ERÒK  PLAYBACK_LOOP_PINGPONGEASING_OUTSINErotation.zanimateguiipairstable    i v   ˚ *˚ˆ8C6  9' ' 5 6 9) )	 )
 )  B=B5 -   B- - B6	 . - B6  9'
 ' B6 9' B6 9 ' 6 6	 B&B6 9' B6 9 6 6	 B A6 7 6  9' ' 5 6	 =	B6  9' ' B6 . ) U%Ä6 9' 6 
 B&B6 9' 6	  B	&	B6 9	 6
 8

B6 9	 6
 8

B6 9-	 
 B 6   X⁄6! - BXÜÄ6
 9

	 B
6 9' 6  B&B6 9"
 B6  )  X-Ä6 9'# B6 9'$ B6 9'% B6 9" B6 9" B6 9" B)¬=&)¬=&)Ó=&6 9'  B6 9'  B6 9'  B6  	 XÄ)» =&6 9'
  B6 9'  BX(Ä6  	 XÄ	 XÄ)@=(6 9'
  B6 9'  BXÄ6  	 XÄ	 XÄ)‹ =(XÄ	 XÄ)∏=(6 9'
  B6 9'  B6   X
Ä6 9)
 + B6 9) + BERxK  ¿¿ÄÄ¿Ä¿¿set_enabledxset_positionyquestion1h_chals_chalget_positionipairsNumOfColorsPickedinsert
tablecolorsset_coloroptioncolor_stringssend_pointersidlevel_gui  challengesmain:/main#challengesp_chancesfrictionstostringChances left
set_textchancesget_nodeguiacquire_input_focus.
speed  s_chalh_chal
color  vector4
vmathclear_color@render:	postmsg
				








    !!!!""""####$$$$%%%%&&''(()))))*****+++++---../////000000111112233333444444555667778899;;;;;<<<<<>>>?????@@@@@Cget_nodes entry_animation node_table friction_speed set_question options option_nodes box_nodes self  ¸node_strings1 Ïc_id Ÿf_id Ãcounter ≥node 	text â â âk Üv  Ünode Çtext zpos vnode1 )node2 %node3 !pos1 pos2 pos3  O   }6  9' ' BK  release_input_focus.	postmsgself   à  8iã-   '  6 - B&  X Ä6  9  6 ' 5 - - 8=B X $Ä-     X Ä6  9  '	 ' B X Ä-    
 X Ä6 
 )    X Ä-  7  6 
    7 
 6  9  ' ' B 6  9  6 ' B 6  9  6 ' B K  ÄÄÄÄfriction_usedANALYZERadjust_frictionslevel_guisave_datamain:/main#data_handler
speedfrictionsmain:/main#main
pauseans  check_this
spawn	postmsgtostringoption							

button_tapped option_ptr options friction_speed  Ú .ù6  9  B6  9  ' 9 6  96 )	  -
  6  9B	K  ¿PLAYBACK_ONCE_PINGPONGBUTTON_ANIMATION_DURATIONEASING_INOUTBOUNCExposition.xanimateget_positiongui(handle_input node  pos  ı  -£6  9  B6  9 B6  9 ' 9 6  9*	 )
  +  6  9B	K  PLAYBACK_ONCE_PINGPONGEASING_INBOUNCEyposition.yanimateget_positionget_nodeguiµÊÃôô≥¶ˇstr  option pos  Ä  	4Nµ-      X 	Ä-     X Ä-     X Ä-   	  X Ä6   6   X #Ä6  9  ' B 6 9  ' BX Ä-     X 	Ä-     X Ä-     X Ä-   	  X Ä6  6   X 	Ä6  9  ' B 6 9  ' BK    const_frictionsfrictions set_texts_chalget_nodeguiconst_chanceschances					chPtr1 s_chal s_chal  Ä  	4N¬-      X 	Ä-     X Ä-     X Ä-   	  X Ä6   6   X #Ä6  9  ' B 6 9  ' BX Ä-     X 	Ä-     X Ä-     X Ä-   	  X Ä6  6   X 	Ä6  9  ' B 6 9  ' BK   const_frictionsfrictions set_texth_chalget_nodeguiconst_chanceschances					chPtr2 h_chal h_chal  é%∑∞¥G3  3 -  X(Ä6 9' B6  7 6 6  XÄ6 9	 '
 )h6 9* )  +  6 9	B	6 7 6
 9'	 '
 B6 9	 6
 B-  . XâÄ-  X
Ä5 4  . - 	 B- -	 BX|Ä-  XÄ-	 ' 6	 9B	&	BXqÄ-
  XÄ- BXkÄ-  X	Ä6
 9 '	 5
 6 =
BX_Ä-  XÄ9.  9. XWÄ-  X$Ä1 6
 9' '	 B6 9' B6 9	 '
 6 6 B&

B6 9	 '
 )h6 9* )  +  6 9	B	-  . X0Ä-  XÄ1 6
 9' '	 B6 9' B6 9	 6
 BXÄ-  XÄ6 9' B6 9'	  B6 9
 '! 6 9"B&B6 9
 '# 6 9$B&BK  ÄÄ¿Ä¿Ä¿¿¿¿¿¿¿ ¿!¿Ä
Ä"¿Ä#¿hDIAMOND CHALLENGE
sGOLD CHALLENGE
h_chals_chalfrictionsfrictionChances left
chances	missmain:/main#challenges	ptr2	ptr1qquestionPtr  the_question_is	hinttostringoption  
scorequestion
pause_frictionsfrictionsoption3option1option2chancess_chalh_chalfrictions1pause_textquestion1set_textsave_datamain:/main#data_handler	postmsgPLAYBACK_ONCE_PINGPONGEASING_INBOUNCEposition.xanimatehighscore
scoreget_nodegui  µÊÃôô≥¶ˇ  !!!!!#####$$$$%%%&))***++++,,,--------...///000111111111222334445556777778888999999999:::::::::::::;;;;<<<=>>>>>????@@@@@@AAABBBBCCCCDDDDDDDDDEEEEEEEEEGchPtr1 chPtr2 add_score hits start_anim node_table get_nodes animate_level show_hint hint_player change_qst set_question what_is_the_question msg_pointers adj_chances chances_missed misses adj_frictions frictions_used msg_challenges self  ∏message_id  ∏message  ∏sender  ∏check_gold_challenge ∂check_diamond_challenge µscore_id #ids (c_id ;f_id 's_chal h_chal  é  MÈÄ -   XBÄ9   X?Ä6 9' B6 9' B6 9 99	B  XÄ/ - 9 - BXÄ6 9 99	B  XÄ/	 - 9 - B6
 - BXÄ6
 9

	 B
6 9
 99B  XÄ.	 . - 9
 - BERÎXÄ-  XÄ/ - 6 BK  $¿Ä ¿¿¿Ä%¿¿ipairsfrictionstouch_feedbackyxpick_node_frictions
pauseget_nodeguireleased touch button_tapped TouchFb handle_input box_nodes option_ptr back touch_feedback self  Naction_id  Naction  Npause :_frictions 6   k v  node  œ	 ( ! Gâ †6   ' B 5 +  7 + 7 +  + + 4  ,	 )
  )  4  3 4  3 3 3 3	 3
 7 3 7 , ) , 3 3 3 6 ' B6 ' B6 ' B6 '  B6 '! B6  '" B 6! '# B!6" '$ B"6# '% B#3$ 7$ 6$ '& B$6% '' B%3& 7&  2  ÄK  on_input 	back
touchon_message challengesadjust_frictionsadjust_chancespointerswhat_is_the_questionchange_questionshow_hintstart_animadd_score	hash   
final 	init      ad_for_hints_playedquestion  option1option2option3option4option5option6modules.animationrequire           
       # ' / 5 { 8  } Ç Ö à õ † ß ™ ™ ™ ´ ´ ´ ¨ ¨ ¨ ≠ ≠ ≠ Æ Æ Æ Ø Ø Ø ∞ ∞ ∞ ± ± ± ≤ ≤ ≤ ˚ ¥ ˝ ˝ ˝ ˛ ˛ ˛     TouchFb Dbox_nodes Cfriction_speed >frictions_used =chances_missed <options ;schl :schal_score  :hchl  :hchal_score  :misses 9hits 8option_nodes 7set_question 6node_table 5get_nodes 4start_lanim 3entry_animation 2animate_level 1chPtr1 ,chPtr2  ,current_question +button_tapped *option_ptr  *handle_input )touch_feedback (hint_player 'add_score $start_anim !show_hint change_qst what_is_the_question msg_pointers adj_chances adj_frictions msg_challenges touch back   modules.animation/modules/animation.luac" 